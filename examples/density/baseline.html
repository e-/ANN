<!DOCTYPE html>
<body>
  <svg width="1000" height="1000"></svg>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script>
function translate(x, y) { return 'translate(' + x + ',' + y + ')'; }
	
d3.csv('baseline.csv', (data) => {
  data.forEach((d) => {
    d.x = +d.x
    d.y = +d.y
    d.logCount = Math.log(+d.count)
  })
  console.log(data)

  let svg = d3.select('svg')
  let g = svg.append('g')
  let width = 960, height = 960;
  
  svg.attr('width', width).attr('height', height)

  let x = d3.scaleBand()
    .domain(d3.range(0, 256))
    .range([0, width])

  let y = d3.scaleBand()
    .domain(d3.range(0, 256))
    .range([0, height])

  let color = d3.scaleSequential(d3.interpolateCool)
    .domain([0, d3.max(data, d => d.logCount)])

  g
    .selectAll('rect')
    .data(data)
    .enter()
      .append('rect')
      .attr('x', d => x(d.x))
      .attr('y', d => y(d.y))
      .attr('width', x.bandwidth())
      .attr('height', y.bandwidth())
      .attr('fill', d => color(d.logCount))
})

  </script>
</body>
